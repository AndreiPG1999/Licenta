{"ast":null,"code":"import _asyncToGenerator from \"D:/Licenta/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../notification.service\";\nimport * as i2 from \"../token-storage.service\";\nimport * as i3 from \"../user.service\";\nimport * as i4 from \"../formular.service\";\nimport * as i5 from \"../navbar/navbar.component\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"@angular/common\";\n\nfunction FormularComponent_label_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 12);\n    i0.ɵɵelement(1, \"input\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.afectiuniData[i_r2].name, \" \");\n  }\n}\n\nexport class FormularComponent {\n  constructor(notifyService, token, userService, formularService) {\n    this.notifyService = notifyService;\n    this.token = token;\n    this.userService = userService;\n    this.formularService = formularService;\n    this.submitted = false;\n    this.afectiuniData = [{\n      id: 1,\n      name: 'Infarct miocardic'\n    }, {\n      id: 2,\n      name: 'Tensiune arterială crescută'\n    }, {\n      id: 3,\n      name: 'Tulburări de ritm cardiac'\n    }, {\n      id: 4,\n      name: 'Hepatită'\n    }, {\n      id: 5,\n      name: 'Tuberculoză'\n    }, {\n      id: 6,\n      name: 'Ulcer/gastrită'\n    }, {\n      id: 7,\n      name: 'Boli renale'\n    }, {\n      id: 8,\n      name: 'Diabet zaharat'\n    }, {\n      id: 9,\n      name: 'Astm'\n    }, {\n      id: 10,\n      name: 'HIV/SIDA/alte afecțiuni care scad imunitatea'\n    }, {\n      id: 11,\n      name: 'Afecțiuni psihice'\n    }, {\n      id: 12,\n      name: 'Epilepsie/convulsii'\n    }, {\n      id: 13,\n      name: 'Anemie/alte boli ale sângelui'\n    }, {\n      id: 14,\n      name: 'Cancer'\n    }, {\n      id: 15,\n      name: 'Nici una'\n    }];\n  }\n\n  showToasterSuccess() {\n    this.notifyService.showSuccess(\"Formular trimis cu succes !!\");\n  }\n\n  ngOnInit() {\n    this.currentUser = this.token.getUser();\n    this.formularForm = new FormGroup({\n      email: new FormControl(''),\n      first_name: new FormControl(''),\n      last_name: new FormControl(''),\n      data_nasterii: new FormControl(''),\n      afectiuni: new FormArray([]),\n      sangerari: new FormControl('', Validators.required),\n      alergii: new FormControl(''),\n      alcool: new FormControl('', Validators.required),\n      fumator: new FormControl('', Validators.required),\n      droguri: new FormControl('', Validators.required),\n      alte_probleme: new FormControl('', Validators.required)\n    });\n    this.userService.findUser(this.currentUser.email).subscribe({\n      next: response => {\n        this.loggedInUser = response;\n        console.log(this.loggedInUser);\n      },\n      error: error => {\n        alert(error.message);\n      }\n    });\n  }\n\n  onSubmit(formularForm) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.submitted = true;\n\n      if (formularForm.valid) {\n        _this.formularForm.value['email'] = _this.currentUser.email;\n        _this.formularForm.value['first_name'] = _this.loggedInUser.first_name;\n        _this.formularForm.value['last_name'] = _this.loggedInUser.last_name;\n\n        _this.formularService.addFormular(formularForm.value).subscribe({\n          next: function () {\n            var _ref = _asyncToGenerator(function* (response) {\n              console.log(response);\n\n              _this.showToasterSuccess();\n\n              yield new Promise(f => setTimeout(f, 1000));\n              window.location.reload();\n              _this.submitted = false;\n            });\n\n            return function next(_x) {\n              return _ref.apply(this, arguments);\n            };\n          }(),\n          error: error => {\n            alert(error.message);\n          }\n        });\n      }\n    })();\n  }\n\n}\n\nFormularComponent.ɵfac = function FormularComponent_Factory(t) {\n  return new (t || FormularComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i2.TokenStorageService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.FormularService));\n};\n\nFormularComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormularComponent,\n  selectors: [[\"app-formular\"]],\n  decls: 25,\n  vars: 2,\n  consts: [[1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"date\", \"formControlName\", \"data_nasterii\", \"name\", \"data_nasterii\", \"placeholder\", \"Data nasterii\", 1, \"date\", \"formEntry\"], [\"formArrayName\", \"afectiuni\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-right\"], [\"rows\", \"3\", \"formControlName\", \"sangerari\", \"name\", \"sangerari\", \"placeholder\", \"A\\u021Bi avut s\\u00E2nger\\u0103ri exagerate sau prelungite care s\\u0103 necesite tratament special? Detalia\\u021Bi\", 1, \"message\", \"formEntry\"], [\"formControlName\", \"alergii\", \"name\", \"alergii\", \"placeholder\", \"alergii\", 1, \"select\", \"formEntry\"], [\"disabled\", \"\", \"selected\", \"\"], [\"type\", \"text\", \"formControlName\", \"alcool\", \"name\", \"alcool\", \"placeholder\", \"Sunte\\u021Bi consumator de alcool? Ce cantitate?\", 1, \"text\", \"formEntry\"], [\"type\", \"text\", \"formControlName\", \"fumator\", \"name\", \"fumator\", \"placeholder\", \"Sunte\\u021Bi fum\\u0103tor? Num\\u0103rul de \\u021Big\\u0103ri zilnic:\", 1, \"text\", \"formEntry\"], [\"type\", \"text\", \"formControlName\", \"droguri\", \"name\", \"droguri\", \"placeholder\", \"Sunte\\u021Bi consumator de droguri? Ce tip/cantitate?\", 1, \"text\", \"formEntry\"], [\"type\", \"text\", \"formControlName\", \"alte_probleme\", \"name\", \"alte_probleme\", \"placeholder\", \"Alte probleme\", 1, \"text\", \"formEntry\"], [\"type\", \"submit\", 1, \"submit\", \"formEntry\"], [\"formArrayName\", \"afectiuni\"], [\"type\", \"checkbox\"]],\n  template: function FormularComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelementStart(1, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function FormularComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.onSubmit(ctx.formularForm);\n      });\n      i0.ɵɵelementStart(2, \"p\");\n      i0.ɵɵtext(3, \"Data na\\u0219terii\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"input\", 1);\n      i0.ɵɵtemplate(5, FormularComponent_label_5_Template, 3, 1, \"label\", 2);\n      i0.ɵɵelementStart(6, \"div\", 3);\n      i0.ɵɵelement(7, \"textarea\", 4);\n      i0.ɵɵelementStart(8, \"select\", 5);\n      i0.ɵɵelementStart(9, \"option\", 6);\n      i0.ɵɵtext(10, \"Ave\\u021Bi sau a\\u021Bi avut reac\\u021Bii alergice la medicamente?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"option\");\n      i0.ɵɵtext(12, \"Antibiotice\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"option\");\n      i0.ɵɵtext(14, \"Antiinflamatorii\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"option\");\n      i0.ɵɵtext(16, \"Anestezice\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\");\n      i0.ɵɵtext(18, \"Nici una\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 7);\n      i0.ɵɵelement(20, \"input\", 8);\n      i0.ɵɵelement(21, \"input\", 9);\n      i0.ɵɵelement(22, \"input\", 10);\n      i0.ɵɵelementStart(23, \"button\", 11);\n      i0.ɵɵtext(24, \"Trimite formular\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.formularForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.afectiuniData);\n    }\n  },\n  directives: [i5.NavbarPacientComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlName, i7.NgForOf, i6.SelectControlValueAccessor, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.FormArrayName],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 120:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(24:21) D:\\\\\\\\Licenta\\\\\\\\Front\\\\\\\\src\\\\\\\\app\\\\\\\\formular\\\\\\\\formular.component.css Missed semicolon\\\\n\\\\n \\\\u001b[90m 22 | \\\\u001b[39m  \\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 23 | \\\\u001b[39m  label\\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 24 | \\\\u001b[39m    display\\\\u001b[33m:\\\\u001b[39mcontents\\\\n \\\\u001b[90m    | \\\\u001b[39m                    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 25 | \\\\u001b[39m    font-size\\\\u001b[33m:\\\\u001b[39m 20px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 26 | \\\\u001b[39m    padding-bottom\\\\u001b[33m:\\\\u001b[39m 2px\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[120]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=formular.component.css.map*/\"]\n});","map":{"version":3,"sources":["D:/Licenta/Front/src/app/formular/formular.component.ts"],"names":["FormArray","FormControl","FormGroup","Validators","i0","i1","i2","i3","i4","i5","i6","i7","FormularComponent_label_5_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","i_r2","index","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate1","afectiuniData","name","FormularComponent","constructor","notifyService","token","userService","formularService","submitted","id","showToasterSuccess","showSuccess","ngOnInit","currentUser","getUser","formularForm","email","first_name","last_name","data_nasterii","afectiuni","sangerari","required","alergii","alcool","fumator","droguri","alte_probleme","findUser","subscribe","next","response","loggedInUser","console","log","error","alert","message","onSubmit","valid","value","addFormular","Promise","f","setTimeout","window","location","reload","ɵfac","FormularComponent_Factory","t","ɵɵdirectiveInject","NotificationService","TokenStorageService","UserService","FormularService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","FormularComponent_Template","ɵɵlistener","FormularComponent_Template_form_ngSubmit_1_listener","ɵɵtemplate","ɵɵproperty","directives","NavbarPacientComponent","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","NgForOf","SelectControlValueAccessor","NgSelectOption","ɵNgSelectMultipleOption","FormArrayName","styles"],"mappings":"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","sourcesContent":["import { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../notification.service\";\r\nimport * as i2 from \"../token-storage.service\";\r\nimport * as i3 from \"../user.service\";\r\nimport * as i4 from \"../formular.service\";\r\nimport * as i5 from \"../navbar/navbar.component\";\r\nimport * as i6 from \"@angular/forms\";\r\nimport * as i7 from \"@angular/common\";\r\nfunction FormularComponent_label_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"label\", 12);\r\n    i0.ɵɵelement(1, \"input\", 13);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const i_r2 = ctx.index;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.afectiuniData[i_r2].name, \" \");\r\n} }\r\nexport class FormularComponent {\r\n    constructor(notifyService, token, userService, formularService) {\r\n        this.notifyService = notifyService;\r\n        this.token = token;\r\n        this.userService = userService;\r\n        this.formularService = formularService;\r\n        this.submitted = false;\r\n        this.afectiuniData = [\r\n            { id: 1, name: 'Infarct miocardic' },\r\n            { id: 2, name: 'Tensiune arterială crescută' },\r\n            { id: 3, name: 'Tulburări de ritm cardiac' },\r\n            { id: 4, name: 'Hepatită' },\r\n            { id: 5, name: 'Tuberculoză' },\r\n            { id: 6, name: 'Ulcer/gastrită' },\r\n            { id: 7, name: 'Boli renale' },\r\n            { id: 8, name: 'Diabet zaharat' },\r\n            { id: 9, name: 'Astm' },\r\n            { id: 10, name: 'HIV/SIDA/alte afecțiuni care scad imunitatea' },\r\n            { id: 11, name: 'Afecțiuni psihice' },\r\n            { id: 12, name: 'Epilepsie/convulsii' },\r\n            { id: 13, name: 'Anemie/alte boli ale sângelui' },\r\n            { id: 14, name: 'Cancer' },\r\n            { id: 15, name: 'Nici una' }\r\n        ];\r\n    }\r\n    showToasterSuccess() {\r\n        this.notifyService.showSuccess(\"Formular trimis cu succes !!\");\r\n    }\r\n    ngOnInit() {\r\n        this.currentUser = this.token.getUser();\r\n        this.formularForm = new FormGroup({\r\n            email: new FormControl(''),\r\n            first_name: new FormControl(''),\r\n            last_name: new FormControl(''),\r\n            data_nasterii: new FormControl(''),\r\n            afectiuni: new FormArray([]),\r\n            sangerari: new FormControl('', Validators.required),\r\n            alergii: new FormControl(''),\r\n            alcool: new FormControl('', Validators.required),\r\n            fumator: new FormControl('', Validators.required),\r\n            droguri: new FormControl('', Validators.required),\r\n            alte_probleme: new FormControl('', Validators.required)\r\n        });\r\n        this.userService.findUser(this.currentUser.email).subscribe({\r\n            next: (response) => {\r\n                this.loggedInUser = response;\r\n                console.log(this.loggedInUser);\r\n            },\r\n            error: (error) => {\r\n                alert(error.message);\r\n            }\r\n        });\r\n    }\r\n    async onSubmit(formularForm) {\r\n        this.submitted = true;\r\n        if (formularForm.valid) {\r\n            this.formularForm.value['email'] = this.currentUser.email;\r\n            this.formularForm.value['first_name'] = this.loggedInUser.first_name;\r\n            this.formularForm.value['last_name'] = this.loggedInUser.last_name;\r\n            this.formularService.addFormular(formularForm.value).subscribe({\r\n                next: async (response) => {\r\n                    console.log(response);\r\n                    this.showToasterSuccess();\r\n                    await new Promise(f => setTimeout(f, 1000));\r\n                    window.location.reload();\r\n                    this.submitted = false;\r\n                },\r\n                error: (error) => {\r\n                    alert(error.message);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\nFormularComponent.ɵfac = function FormularComponent_Factory(t) { return new (t || FormularComponent)(i0.ɵɵdirectiveInject(i1.NotificationService), i0.ɵɵdirectiveInject(i2.TokenStorageService), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.FormularService)); };\r\nFormularComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FormularComponent, selectors: [[\"app-formular\"]], decls: 25, vars: 2, consts: [[1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"date\", \"formControlName\", \"data_nasterii\", \"name\", \"data_nasterii\", \"placeholder\", \"Data nasterii\", 1, \"date\", \"formEntry\"], [\"formArrayName\", \"afectiuni\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-right\"], [\"rows\", \"3\", \"formControlName\", \"sangerari\", \"name\", \"sangerari\", \"placeholder\", \"A\\u021Bi avut s\\u00E2nger\\u0103ri exagerate sau prelungite care s\\u0103 necesite tratament special? Detalia\\u021Bi\", 1, \"message\", \"formEntry\"], [\"formControlName\", \"alergii\", \"name\", \"alergii\", \"placeholder\", \"alergii\", 1, \"select\", \"formEntry\"], [\"disabled\", \"\", \"selected\", \"\"], [\"type\", \"text\", \"formControlName\", \"alcool\", \"name\", \"alcool\", \"placeholder\", \"Sunte\\u021Bi consumator de alcool? Ce cantitate?\", 1, \"text\", \"formEntry\"], [\"type\", \"text\", \"formControlName\", \"fumator\", \"name\", \"fumator\", \"placeholder\", \"Sunte\\u021Bi fum\\u0103tor? Num\\u0103rul de \\u021Big\\u0103ri zilnic:\", 1, \"text\", \"formEntry\"], [\"type\", \"text\", \"formControlName\", \"droguri\", \"name\", \"droguri\", \"placeholder\", \"Sunte\\u021Bi consumator de droguri? Ce tip/cantitate?\", 1, \"text\", \"formEntry\"], [\"type\", \"text\", \"formControlName\", \"alte_probleme\", \"name\", \"alte_probleme\", \"placeholder\", \"Alte probleme\", 1, \"text\", \"formEntry\"], [\"type\", \"submit\", 1, \"submit\", \"formEntry\"], [\"formArrayName\", \"afectiuni\"], [\"type\", \"checkbox\"]], template: function FormularComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelement(0, \"app-navbar\");\r\n        i0.ɵɵelementStart(1, \"form\", 0);\r\n        i0.ɵɵlistener(\"ngSubmit\", function FormularComponent_Template_form_ngSubmit_1_listener() { return ctx.onSubmit(ctx.formularForm); });\r\n        i0.ɵɵelementStart(2, \"p\");\r\n        i0.ɵɵtext(3, \"Data na\\u0219terii\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(4, \"input\", 1);\r\n        i0.ɵɵtemplate(5, FormularComponent_label_5_Template, 3, 1, \"label\", 2);\r\n        i0.ɵɵelementStart(6, \"div\", 3);\r\n        i0.ɵɵelement(7, \"textarea\", 4);\r\n        i0.ɵɵelementStart(8, \"select\", 5);\r\n        i0.ɵɵelementStart(9, \"option\", 6);\r\n        i0.ɵɵtext(10, \"Ave\\u021Bi sau a\\u021Bi avut reac\\u021Bii alergice la medicamente?\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"option\");\r\n        i0.ɵɵtext(12, \"Antibiotice\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"option\");\r\n        i0.ɵɵtext(14, \"Antiinflamatorii\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"option\");\r\n        i0.ɵɵtext(16, \"Anestezice\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(17, \"option\");\r\n        i0.ɵɵtext(18, \"Nici una\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(19, \"input\", 7);\r\n        i0.ɵɵelement(20, \"input\", 8);\r\n        i0.ɵɵelement(21, \"input\", 9);\r\n        i0.ɵɵelement(22, \"input\", 10);\r\n        i0.ɵɵelementStart(23, \"button\", 11);\r\n        i0.ɵɵtext(24, \"Trimite formular\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.formularForm);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.afectiuniData);\r\n    } }, directives: [i5.NavbarPacientComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.DefaultValueAccessor, i6.NgControlStatus, i6.FormControlName, i7.NgForOf, i6.SelectControlValueAccessor, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.FormArrayName], styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 120:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(24:21) D:\\\\\\\\Licenta\\\\\\\\Front\\\\\\\\src\\\\\\\\app\\\\\\\\formular\\\\\\\\formular.component.css Missed semicolon\\\\n\\\\n \\\\u001b[90m 22 | \\\\u001b[39m  \\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 23 | \\\\u001b[39m  label\\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 24 | \\\\u001b[39m    display\\\\u001b[33m:\\\\u001b[39mcontents\\\\n \\\\u001b[90m    | \\\\u001b[39m                    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 25 | \\\\u001b[39m    font-size\\\\u001b[33m:\\\\u001b[39m 20px\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 26 | \\\\u001b[39m    padding-bottom\\\\u001b[33m:\\\\u001b[39m 2px\\\\u001b[33m;\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[120]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=formular.component.css.map*/\"] });\r\n"]},"metadata":{},"sourceType":"module"}