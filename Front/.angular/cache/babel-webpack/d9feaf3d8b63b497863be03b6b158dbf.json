{"ast":null,"code":"import _asyncToGenerator from \"D:/Licenta/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../radiografie.service\";\nimport * as i2 from \"../token-storage.service\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"../navbar/navbar.component\";\nexport class RadiografiiComponent {\n  constructor(radiografieService, token, sanitizer) {\n    this.radiografieService = radiografieService;\n    this.token = token;\n    this.sanitizer = sanitizer;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    this.currentUser = this.token.getUser();\n    this.radiografieService.getRadiografie(this.currentUser.email).subscribe({\n      next: function () {\n        var _ref = _asyncToGenerator(function* (response) {\n          _this.radiografii = response;\n          console.log(_this.radiografii);\n\n          _this.convertImg();\n        });\n\n        return function next(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      error: error => {\n        alert(error.message);\n      }\n    });\n  }\n\n  convertImg() {\n    // for(let radiografie of this.radiografii){\n    //   this.images.push(this.sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + radiografie.picByte));\n    // }\n    this.image = this.sanitizer.bypassSecurityTrustResourceUrl('data:image/png;base64,' + this.radiografii[0].picByte);\n    console.log(this.image);\n  }\n\n}\n\nRadiografiiComponent.ɵfac = function RadiografiiComponent_Factory(t) {\n  return new (t || RadiografiiComponent)(i0.ɵɵdirectiveInject(i1.RadiografieService), i0.ɵɵdirectiveInject(i2.TokenStorageService), i0.ɵɵdirectiveInject(i3.DomSanitizer));\n};\n\nRadiografiiComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RadiografiiComponent,\n  selectors: [[\"app-radiografii\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[3, \"src\"]],\n  template: function RadiografiiComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\");\n      i0.ɵɵelement(1, \"img\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.image, i0.ɵɵsanitizeUrl);\n    }\n  },\n  directives: [i4.NavbarPacientComponent],\n  styles: [\"img[_ngcontent-%COMP%]{\\r\\n    border-radius: 8px;\\r\\n\\r\\n}\\r\\ndiv.polaroid[_ngcontent-%COMP%] {\\r\\n    width: 80%;\\r\\n    background-color: white;\\r\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\r\\n    margin-bottom: 25px;\\r\\n  }\\r\\ndiv.container[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    padding: 10px 20px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhZGlvZ3JhZmlpLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7O0FBRXRCO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsdUJBQXVCO0lBQ3ZCLDRFQUE0RTtJQUM1RSxtQkFBbUI7RUFDckI7QUFDQTtJQUNFLGtCQUFrQjtJQUNsQixrQkFBa0I7RUFDcEIiLCJmaWxlIjoicmFkaW9ncmFmaWkuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImltZ3tcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuXHJcbn1cclxuZGl2LnBvbGFyb2lkIHtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSk7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xyXG4gIH1cclxuICBkaXYuY29udGFpbmVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICB9Il19 */\"]\n});","map":{"version":3,"sources":["D:/Licenta/Front/src/app/radiografii/radiografii.component.ts"],"names":["i0","i1","i2","i3","i4","RadiografiiComponent","constructor","radiografieService","token","sanitizer","ngOnInit","currentUser","getUser","getRadiografie","email","subscribe","next","response","radiografii","console","log","convertImg","error","alert","message","image","bypassSecurityTrustResourceUrl","picByte","ɵfac","RadiografiiComponent_Factory","t","ɵɵdirectiveInject","RadiografieService","TokenStorageService","DomSanitizer","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","RadiografiiComponent_Template","rf","ctx","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","directives","NavbarPacientComponent","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../radiografie.service\";\r\nimport * as i2 from \"../token-storage.service\";\r\nimport * as i3 from \"@angular/platform-browser\";\r\nimport * as i4 from \"../navbar/navbar.component\";\r\nexport class RadiografiiComponent {\r\n    constructor(radiografieService, token, sanitizer) {\r\n        this.radiografieService = radiografieService;\r\n        this.token = token;\r\n        this.sanitizer = sanitizer;\r\n    }\r\n    ngOnInit() {\r\n        this.currentUser = this.token.getUser();\r\n        this.radiografieService.getRadiografie(this.currentUser.email).subscribe({\r\n            next: async (response) => {\r\n                this.radiografii = response;\r\n                console.log(this.radiografii);\r\n                this.convertImg();\r\n            },\r\n            error: (error) => {\r\n                alert(error.message);\r\n            }\r\n        });\r\n    }\r\n    convertImg() {\r\n        // for(let radiografie of this.radiografii){\r\n        //   this.images.push(this.sanitizer.bypassSecurityTrustResourceUrl('data:image/jpg;base64,' + radiografie.picByte));\r\n        // }\r\n        this.image = this.sanitizer.bypassSecurityTrustResourceUrl('data:image/png;base64,' + this.radiografii[0].picByte);\r\n        console.log(this.image);\r\n    }\r\n}\r\nRadiografiiComponent.ɵfac = function RadiografiiComponent_Factory(t) { return new (t || RadiografiiComponent)(i0.ɵɵdirectiveInject(i1.RadiografieService), i0.ɵɵdirectiveInject(i2.TokenStorageService), i0.ɵɵdirectiveInject(i3.DomSanitizer)); };\r\nRadiografiiComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RadiografiiComponent, selectors: [[\"app-radiografii\"]], decls: 2, vars: 1, consts: [[3, \"src\"]], template: function RadiografiiComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelement(0, \"app-navbar\");\r\n        i0.ɵɵelement(1, \"img\", 0);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"src\", ctx.image, i0.ɵɵsanitizeUrl);\r\n    } }, directives: [i4.NavbarPacientComponent], styles: [\"img[_ngcontent-%COMP%]{\\r\\n    border-radius: 8px;\\r\\n\\r\\n}\\r\\ndiv.polaroid[_ngcontent-%COMP%] {\\r\\n    width: 80%;\\r\\n    background-color: white;\\r\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\r\\n    margin-bottom: 25px;\\r\\n  }\\r\\ndiv.container[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    padding: 10px 20px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhZGlvZ3JhZmlpLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7O0FBRXRCO0FBQ0E7SUFDSSxVQUFVO0lBQ1YsdUJBQXVCO0lBQ3ZCLDRFQUE0RTtJQUM1RSxtQkFBbUI7RUFDckI7QUFDQTtJQUNFLGtCQUFrQjtJQUNsQixrQkFBa0I7RUFDcEIiLCJmaWxlIjoicmFkaW9ncmFmaWkuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImltZ3tcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuXHJcbn1cclxuZGl2LnBvbGFyb2lkIHtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSk7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xyXG4gIH1cclxuICBkaXYuY29udGFpbmVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICB9Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}