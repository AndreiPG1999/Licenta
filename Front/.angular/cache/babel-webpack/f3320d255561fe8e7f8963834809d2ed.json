{"ast":null,"code":"import _asyncToGenerator from \"D:/Licenta/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nlet NavbarDoctorComponent = class NavbarDoctorComponent {\n  constructor(token, userService, notifyService, router, radiografieService) {\n    this.token = token;\n    this.userService = userService;\n    this.notifyService = notifyService;\n    this.router = router;\n    this.radiografieService = radiografieService;\n    this.display = \"none\";\n  }\n\n  showToasterSuccess() {\n    this.notifyService.showSuccess(\"Cont sters cu succes !!\");\n  }\n\n  ngOnInit() {\n    this.currentUser = this.token.getUser();\n    this.addRadiografieForm = new FormGroup({\n      email: new FormControl(''),\n      id_doctor: new FormControl('')\n    });\n    this.userService.findUser(this.currentUser.email).subscribe({\n      next: response => {\n        this.loggedInUser = response;\n        console.log(this.loggedInUser);\n        this.userService.findUsersByEmail(this.loggedInUser.id).subscribe({\n          next: response => {\n            this.users = response;\n            console.log(this.users);\n          },\n          error: error => {\n            alert(error.message);\n          }\n        });\n      },\n      error: error => {\n        alert(error.message);\n      }\n    });\n  }\n\n  clickMethod() {\n    var _this = this;\n\n    if (confirm(\"Sunteți sigur că doriți să vă ștergeți contul?\")) {\n      this.userService.deleteUser(this.currentUser.email).subscribe({\n        next: function () {\n          var _ref = _asyncToGenerator(function* () {\n            _this.showToasterSuccess();\n\n            yield new Promise(f => setTimeout(f, 2000));\n\n            _this.router.navigate(['/login']);\n          });\n\n          return function next() {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        error: error => {\n          alert(error.message);\n        }\n      });\n    }\n  }\n\n  onCloseModal() {\n    this.display = \"none\";\n  }\n\n  onOpenModal() {\n    this.display = \"block\";\n  }\n\n  onFileChanged(event) {\n    //Select File\n    this.selectedFile = event.target.files[0];\n  }\n\n  onUpload() {\n    var _this2 = this;\n\n    console.log(this.selectedFile); //FormData API provides methods and properties to allow us easily prepare form data to be sent with POST HTTP requests.\n\n    const uploadImageData = new FormData();\n    uploadImageData.append('imageFile', this.selectedFile, this.selectedFile.name); //Make a call to the Spring Boot Application to save the image\n\n    this.addRadiografieForm.value['id_doctor'] = this.loggedInUser.id;\n    this.radiografieService.addRadiografie(uploadImageData, this.addRadiografieForm.value['email'], this.addRadiografieForm.value['id_doctor']).subscribe({\n      next: function () {\n        var _ref2 = _asyncToGenerator(function* (response) {\n          console.log(response);\n\n          _this2.onCloseModal();\n        });\n\n        return function next(_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      error: error => {\n        alert(error.message);\n      }\n    });\n  }\n\n};\nNavbarDoctorComponent = __decorate([Component({\n  selector: 'app-navbar-doctor',\n  templateUrl: './navbar-doctor.component.html',\n  styleUrls: ['./navbar-doctor.component.css']\n})], NavbarDoctorComponent);\nexport { NavbarDoctorComponent };","map":{"version":3,"sources":["D:/Licenta/Front/src/app/navbar-doctor/navbar-doctor.component.ts"],"names":["__decorate","Component","FormControl","FormGroup","NavbarDoctorComponent","constructor","token","userService","notifyService","router","radiografieService","display","showToasterSuccess","showSuccess","ngOnInit","currentUser","getUser","addRadiografieForm","email","id_doctor","findUser","subscribe","next","response","loggedInUser","console","log","findUsersByEmail","id","users","error","alert","message","clickMethod","confirm","deleteUser","Promise","f","setTimeout","navigate","onCloseModal","onOpenModal","onFileChanged","event","selectedFile","target","files","onUpload","uploadImageData","FormData","append","name","value","addRadiografie","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,gBAAvC;AACA,IAAIC,qBAAqB,GAAG,MAAMA,qBAAN,CAA4B;AACpDC,EAAAA,WAAW,CAACC,KAAD,EAAQC,WAAR,EAAqBC,aAArB,EAAoCC,MAApC,EAA4CC,kBAA5C,EAAgE;AACvE,SAAKJ,KAAL,GAAaA,KAAb;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,kBAAL,GAA0BA,kBAA1B;AACA,SAAKC,OAAL,GAAe,MAAf;AACH;;AACDC,EAAAA,kBAAkB,GAAG;AACjB,SAAKJ,aAAL,CAAmBK,WAAnB,CAA+B,yBAA/B;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,SAAKC,WAAL,GAAmB,KAAKT,KAAL,CAAWU,OAAX,EAAnB;AACA,SAAKC,kBAAL,GAA0B,IAAId,SAAJ,CAAc;AACpCe,MAAAA,KAAK,EAAE,IAAIhB,WAAJ,CAAgB,EAAhB,CAD6B;AAEpCiB,MAAAA,SAAS,EAAE,IAAIjB,WAAJ,CAAgB,EAAhB;AAFyB,KAAd,CAA1B;AAIA,SAAKK,WAAL,CAAiBa,QAAjB,CAA0B,KAAKL,WAAL,CAAiBG,KAA3C,EAAkDG,SAAlD,CAA4D;AACxDC,MAAAA,IAAI,EAAGC,QAAD,IAAc;AAChB,aAAKC,YAAL,GAAoBD,QAApB;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,YAAjB;AACA,aAAKjB,WAAL,CAAiBoB,gBAAjB,CAAkC,KAAKH,YAAL,CAAkBI,EAApD,EAAwDP,SAAxD,CAAkE;AAC9DC,UAAAA,IAAI,EAAGC,QAAD,IAAc;AAChB,iBAAKM,KAAL,GAAaN,QAAb;AACAE,YAAAA,OAAO,CAACC,GAAR,CAAY,KAAKG,KAAjB;AACH,WAJ6D;AAK9DC,UAAAA,KAAK,EAAGA,KAAD,IAAW;AACdC,YAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACH;AAP6D,SAAlE;AASH,OAbuD;AAcxDF,MAAAA,KAAK,EAAGA,KAAD,IAAW;AACdC,QAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACH;AAhBuD,KAA5D;AAkBH;;AACDC,EAAAA,WAAW,GAAG;AAAA;;AACV,QAAIC,OAAO,CAAC,gDAAD,CAAX,EAA+D;AAC3D,WAAK3B,WAAL,CAAiB4B,UAAjB,CAA4B,KAAKpB,WAAL,CAAiBG,KAA7C,EAAoDG,SAApD,CAA8D;AAC1DC,QAAAA,IAAI;AAAA,uCAAE,aAAY;AACd,YAAA,KAAI,CAACV,kBAAL;;AACA,kBAAM,IAAIwB,OAAJ,CAAYC,CAAC,IAAIC,UAAU,CAACD,CAAD,EAAI,IAAJ,CAA3B,CAAN;;AACA,YAAA,KAAI,CAAC5B,MAAL,CAAY8B,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACH,WAJG;;AAAA;AAAA;AAAA;AAAA,WADsD;AAM1DT,QAAAA,KAAK,EAAGA,KAAD,IAAW;AACdC,UAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACH;AARyD,OAA9D;AAUH;AACJ;;AACDQ,EAAAA,YAAY,GAAG;AACX,SAAK7B,OAAL,GAAe,MAAf;AACH;;AACD8B,EAAAA,WAAW,GAAG;AACV,SAAK9B,OAAL,GAAe,OAAf;AACH;;AACD+B,EAAAA,aAAa,CAACC,KAAD,EAAQ;AACjB;AACA,SAAKC,YAAL,GAAoBD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB;AACH;;AACDC,EAAAA,QAAQ,GAAG;AAAA;;AACPtB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKkB,YAAjB,EADO,CAEP;;AACA,UAAMI,eAAe,GAAG,IAAIC,QAAJ,EAAxB;AACAD,IAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB,EAAoC,KAAKN,YAAzC,EAAuD,KAAKA,YAAL,CAAkBO,IAAzE,EAJO,CAKP;;AACA,SAAKlC,kBAAL,CAAwBmC,KAAxB,CAA8B,WAA9B,IAA6C,KAAK5B,YAAL,CAAkBI,EAA/D;AACA,SAAKlB,kBAAL,CAAwB2C,cAAxB,CAAuCL,eAAvC,EAAwD,KAAK/B,kBAAL,CAAwBmC,KAAxB,CAA8B,OAA9B,CAAxD,EAAgG,KAAKnC,kBAAL,CAAwBmC,KAAxB,CAA8B,WAA9B,CAAhG,EAA4I/B,SAA5I,CAAsJ;AAClJC,MAAAA,IAAI;AAAA,sCAAE,WAAOC,QAAP,EAAoB;AACtBE,UAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,UAAA,MAAI,CAACiB,YAAL;AACH,SAHG;;AAAA;AAAA;AAAA;AAAA,SAD8I;AAKlJV,MAAAA,KAAK,EAAGA,KAAD,IAAW;AACdC,QAAAA,KAAK,CAACD,KAAK,CAACE,OAAP,CAAL;AACH;AAPiJ,KAAtJ;AASH;;AA7EmD,CAAxD;AA+EA5B,qBAAqB,GAAGJ,UAAU,CAAC,CAC/BC,SAAS,CAAC;AACNqD,EAAAA,QAAQ,EAAE,mBADJ;AAENC,EAAAA,WAAW,EAAE,gCAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,+BAAD;AAHL,CAAD,CADsB,CAAD,EAM/BpD,qBAN+B,CAAlC;AAOA,SAASA,qBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nlet NavbarDoctorComponent = class NavbarDoctorComponent {\r\n    constructor(token, userService, notifyService, router, radiografieService) {\r\n        this.token = token;\r\n        this.userService = userService;\r\n        this.notifyService = notifyService;\r\n        this.router = router;\r\n        this.radiografieService = radiografieService;\r\n        this.display = \"none\";\r\n    }\r\n    showToasterSuccess() {\r\n        this.notifyService.showSuccess(\"Cont sters cu succes !!\");\r\n    }\r\n    ngOnInit() {\r\n        this.currentUser = this.token.getUser();\r\n        this.addRadiografieForm = new FormGroup({\r\n            email: new FormControl(''),\r\n            id_doctor: new FormControl('')\r\n        });\r\n        this.userService.findUser(this.currentUser.email).subscribe({\r\n            next: (response) => {\r\n                this.loggedInUser = response;\r\n                console.log(this.loggedInUser);\r\n                this.userService.findUsersByEmail(this.loggedInUser.id).subscribe({\r\n                    next: (response) => {\r\n                        this.users = response;\r\n                        console.log(this.users);\r\n                    },\r\n                    error: (error) => {\r\n                        alert(error.message);\r\n                    }\r\n                });\r\n            },\r\n            error: (error) => {\r\n                alert(error.message);\r\n            }\r\n        });\r\n    }\r\n    clickMethod() {\r\n        if (confirm(\"Sunteți sigur că doriți să vă ștergeți contul?\")) {\r\n            this.userService.deleteUser(this.currentUser.email).subscribe({\r\n                next: async () => {\r\n                    this.showToasterSuccess();\r\n                    await new Promise(f => setTimeout(f, 2000));\r\n                    this.router.navigate(['/login']);\r\n                },\r\n                error: (error) => {\r\n                    alert(error.message);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    onCloseModal() {\r\n        this.display = \"none\";\r\n    }\r\n    onOpenModal() {\r\n        this.display = \"block\";\r\n    }\r\n    onFileChanged(event) {\r\n        //Select File\r\n        this.selectedFile = event.target.files[0];\r\n    }\r\n    onUpload() {\r\n        console.log(this.selectedFile);\r\n        //FormData API provides methods and properties to allow us easily prepare form data to be sent with POST HTTP requests.\r\n        const uploadImageData = new FormData();\r\n        uploadImageData.append('imageFile', this.selectedFile, this.selectedFile.name);\r\n        //Make a call to the Spring Boot Application to save the image\r\n        this.addRadiografieForm.value['id_doctor'] = this.loggedInUser.id;\r\n        this.radiografieService.addRadiografie(uploadImageData, this.addRadiografieForm.value['email'], this.addRadiografieForm.value['id_doctor']).subscribe({\r\n            next: async (response) => {\r\n                console.log(response);\r\n                this.onCloseModal();\r\n            },\r\n            error: (error) => {\r\n                alert(error.message);\r\n            }\r\n        });\r\n    }\r\n};\r\nNavbarDoctorComponent = __decorate([\r\n    Component({\r\n        selector: 'app-navbar-doctor',\r\n        templateUrl: './navbar-doctor.component.html',\r\n        styleUrls: ['./navbar-doctor.component.css']\r\n    })\r\n], NavbarDoctorComponent);\r\nexport { NavbarDoctorComponent };\r\n"]},"metadata":{},"sourceType":"module"}